{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ae6c838a13684fa22e30","webpack:///./~/ramda/src/internal/_isPlaceholder.js","webpack:///./src/utils.js","webpack:///./src/immybox.js","webpack:///./~/ramda/src/forEach.js","webpack:///./~/ramda/src/internal/_checkForMethod.js","webpack:///./~/ramda/src/internal/_curry1.js","webpack:///./~/ramda/src/internal/_curry2.js","webpack:///./~/ramda/src/internal/_isArray.js","webpack:///./~/ramda/src/internal/_slice.js"],"names":[],"mappings":"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D,YAAS,IAAT,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,QAAQ,SAAhD;;AAEA,UAAO,gBAAP,CAAwB,QAAxB,EAAkC,QAAQ,aAA1C;AACD,EAJD,E;;;;;;AC5cA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC7CD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;;;;;ACnBA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,kBAAkB,EAAE;AACzD;AACA;AACA,0DAAyD,kBAAkB,EAAE;AAC7E,0DAAyD,kBAAkB,EAAE;AAC7E;AACA;AACA;AACA;;;;;;;AC3BA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,aAAY,QAAQ;AACpB;AACA;AACA,sBAAqB;AACrB,wBAAuB;AACvB,oBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA,YAAW,gBAAgB;AAC3B,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,MAAM;AAClB;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"immybox.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ae6c838a13684fa22e30\n **/","module.exports = function _isPlaceholder(a) {\n  return a != null &&\n         typeof a === 'object' &&\n         a['@@functional/placeholder'] === true;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_isPlaceholder.js\n ** module id = 0\n ** module chunks = 0 1\n **/","/*eslint no-console:0*/\n// Polyfills\nNumber.isNaN = Number.isNaN || function(value) {\n  return typeof value === 'number' && isNaN(value);\n};\nif (!Array.prototype.find) {\n  Array.prototype.find = function(predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n    return undefined;\n  };\n}\n\nif (!Array.prototype.includes) {\n  Array.prototype.includes = function(searchElement /*, fromIndex*/ ) {\n    'use strict';\n    var O = Object(this);\n    var len = parseInt(O.length) || 0;\n    if (len === 0) {\n      return false;\n    }\n    var n = parseInt(arguments[1]) || 0;\n    var k;\n    if (n >= 0) {\n      k = n;\n    } else {\n      k = len + n;\n      if (k < 0) {k = 0;}\n    }\n    var currentElement;\n    while (k < len) {\n      currentElement = O[k];\n      if (searchElement === currentElement ||\n         (searchElement !== searchElement && currentElement !== currentElement)) {\n        return true;\n      }\n      k++;\n    }\n    return false;\n  };\n}\n\n// Exported utility methods\nexport function assert(bool, message) {\n  if (!bool) throw new Error(message);\n}\n\nexport function hasClass(element, class_name) {\n  return !!element.className.match(new RegExp(`(\\\\s|^)${class_name}(\\\\s|$)`));\n}\nexport function addClass(element, class_name) {\n  if (!hasClass(element, class_name)) element.className += ` ${class_name}`;\n}\nexport function removeClass(element, class_name) {\n  if (hasClass(element, class_name)) {\n    var reg = new RegExp(`(\\\\s|^)${class_name}(\\\\s|$)`);\n    element.className = element.className.replace(reg, ' ');\n  }\n}\n\nfunction parentNodeMatchingSelector(element, selector) {\n  if (!element.parentNode || !element.parentNode.matches) return null;\n  if (element.parentNode.matches(selector)) return element.parentNode;\n  return parentNodeMatchingSelector(element.parentNode, selector);\n}\n\nexport function nodeOrParentMatchingSelector(element, selector) {\n  if (element.matches && element.matches(selector)) return element;\n  return parentNodeMatchingSelector(element, selector);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import {addClass, removeClass, nodeOrParentMatchingSelector} from './utils';\n\nimport R from 'ramda';\n\nconst event_listeners = new Map();\n\nconst defaults = {\n  choices: [],\n  maxResults: 50,\n  showArrow: true,\n  openOnClick: true,\n  defaultSelectedValue: undefined,\n  scroll_behavior: 'smooth',\n  filterFn(query) {\n    let lower_query = query.toLowerCase();\n    return choice => choice.text.toLowerCase().indexOf(lower_query) >= 0;\n  },\n  formatChoice(query) {\n    if (query) {\n      let reg = new RegExp(query.replace(/[#-.]|[[-^]|[?|{}]/g, '\\\\$&'), 'gi');\n      return choice => choice.text.replace(reg, '<span class=\"highlight\">$&</span>');\n    } else\n      return choice => choice.text;\n  }\n};\n\nconst all_objects = new Map();\n\nconst plugin_name = 'immybox';\n\nfunction assignEvent(event_name, event_handler, node, listeners) {\n  listeners.has(node) || listeners.set(node, new Map());\n  listeners.get(node).set(event_name, event_handler);\n  node.addEventListener(event_name, event_handler);\n}\n\nfunction getEventListenerMap(plugin) {\n  let map = new Map();\n  event_listeners.set(plugin, map);\n  return map;\n}\n\nexport class ImmyBox {\n  constructor(element, options) {\n    addClass(element, plugin_name);\n    element.setAttribute('autocomplete', 'off');\n\n    let listeners = getEventListenerMap(this);\n\n    this.element = element;\n    this.options = Object.assign({}, ImmyBox.defaults, options);\n    this.choices = this.options.choices;\n    if (this.options.defaultSelectedValue != null)\n      this.choices = [\n        this.choices.find(({value}) => {\n          return value === this.options.defaultSelectedValue;\n        }), ...(\n          this.choices.filter(({value}) => {\n            return value !== this.options.defaultSelectedValue;\n          }))\n      ].filter(choice => choice);\n    this.indexed_choices = this.choices.map((choice, index) => ({index, choice}));\n    this.selectedChoice = null;\n\n    if (this.options.showArrow)\n      addClass(this.element, `${plugin_name}_witharrow`);\n\n\n    this.selectChoiceByValue(this.element.value);\n\n    this.queryResultArea = document.createElement('div');\n    addClass(this.queryResultArea, `${plugin_name}_results`);\n    this.queryResultAreaVisible = false;\n\n    this._val = this.element.value;\n    this.oldQuery = this.element.value;\n\n    if (this.options.openOnClick)\n      assignEvent('click', this.openResults.bind(this), this.element, listeners);\n\n    assignEvent('click', event => {\n      let node = nodeOrParentMatchingSelector(event.target, `li.${plugin_name}_choice`);\n      if (node) {\n        let value = this.valueFromElement(node);\n        this.selectChoiceByValue(value);\n        this.hideResults();\n        this._val = this.element.value;\n        this.element.focus();\n      }\n    }, this.queryResultArea, listeners);\n\n    assignEvent('mouseenter', event => {\n      let node = nodeOrParentMatchingSelector(event.target, `li.${plugin_name}_choice`);\n      if (node) {\n        addClass(node, 'active');\n        R.forEach(\n          (li) => li !== node && removeClass(li, 'active'),\n          this.queryResultArea.querySelectorAll(`li.${plugin_name}_choice.active`)\n        );\n      }\n    }, this.queryResultArea, listeners);\n\n    assignEvent('keyup', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('change', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('search', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('keydown', this.doSelection.bind(this), this.element, listeners);\n\n    all_objects.set(this.element, this);\n  }\n\n  get values() {\n    return this.choices.map(choice => choice.value);\n  }\n\n  // on 'keyup', 'change', 'search'\n  // perform a query on the choices\n  doQuery() {\n    let query = this.element.value;\n    if (this._val !== query) {\n      this._val = query;\n      this.oldQuery = query;\n      if (query) {\n        this.insertFilteredChoiceElements(query);\n      } else {\n        this.hideResults();\n        this.selectChoiceByValue(null);\n      }\n    }\n  }\n\n  // on 'keydown'\n  // select the highlighted choice\n  doSelection(event) {\n    if (event.which === 27) { // escape key\n      this.display();\n      this.hideResults();\n    }\n    if (this.queryResultAreaVisible) {\n      switch (event.which) {\n      case 9: // tab\n        this.selectHighlightedChoice();\n        break;\n      case 13: // enter\n        event.preventDefault();\n        this.selectHighlightedChoice();\n        break;\n      case 38: // up\n        event.preventDefault();\n        this.highlightPreviousChoice();\n        this.scroll();\n        break;\n      case 40: // down\n        event.preventDefault();\n        this.highlightNextChoice();\n        this.scroll();\n        break;\n      }\n    } else {\n      switch (event.which) {\n      case 40: // down\n        event.preventDefault();\n        if (this.selectedChoice)\n          this.insertFilteredChoiceElements(this.oldQuery);\n        else\n          this.insertFilteredChoiceElements('');\n        break;\n      case 9: // tab\n        this.revert();\n        break;\n      }\n    }\n  }\n\n  // on 'click'\n  // show the results box\n  openResults(event) {\n    event.cancelBubble = true;\n    event.stopPropogation && event.stopPropogation();\n    this.revertOtherInstances();\n    if (this.selectedChoice) {\n      this.insertFilteredChoiceElements(this.oldQuery);\n    } else {\n      this.insertFilteredChoiceElements('');\n    }\n  }\n\n  // revert or set to null after losing focus\n  revert() {\n    if (this.queryResultAreaVisible) {\n      this.display();\n      this.hideResults();\n    } else if (this.element.value === '') this.selectChoiceByValue(null);\n  }\n\n  // if visible, reposition the results area on window resize\n  reposition() {\n    this.queryResultAreaVisible && this.positionResultsArea();\n  }\n\n  insertFilteredChoiceElements(query) {\n    let filteredChoices;\n    if (query === '')\n      filteredChoices = this.indexed_choices;\n    else {\n      let filter = this.options.filterFn(query);\n      filteredChoices = this.indexed_choices.filter(({choice}, index) => filter(choice, index));\n    }\n    let truncatedChoices = filteredChoices.slice(0, this.options.maxResults);\n    if (this.defaultSelectedChoice) {\n      if (filteredChoices.indexOf(this.defaultSelectedChoice) >= 0) {\n        if (truncatedChoices.indexOf(this.defaultSelectedChoice) === -1) {\n          truncatedChoices.unshift(this.defaultSelectedChoice);\n          truncatedChoices.pop();\n        } else {\n          truncatedChoices = truncatedChoices.filter(c => c.choice.value !== this.defaultSelectedChoice.value);\n          truncatedChoices.unshift(this.defaultSelectedChoice);\n        }\n      }\n    }\n    let formatter = this.options.formatChoice(query);\n    let selected_one = false;\n    let list = document.createElement('ul');\n    let results = truncatedChoices.map(({choice, index}) => {\n      let li = document.createElement('li');\n      li.setAttribute('class', `${plugin_name}_choice`);\n      li.setAttribute('data-immybox-value-index', index);\n      li.innerHTML = formatter(choice);\n      if (this.selectedChoice && (index === this.selectedChoice.index)) {\n        selected_one = true;\n        addClass(li, 'active');\n      }\n      list.appendChild(li);\n      return li;\n    });\n    if (results.length) {\n      !selected_one && addClass(results[0], 'active');\n    } else {\n      list = document.createElement('p');\n      list.setAttribute('class', `${plugin_name}_noresults`);\n      list.textContent = 'no matches';\n    }\n\n    while (this.queryResultArea.lastChild) {\n      this.queryResultArea.removeChild(this.queryResultArea.lastChild);\n    }\n    this.queryResultArea.appendChild(list);\n    this.showResults();\n  }\n\n  scroll() {\n    this.highlightedChoice && this.highlightedChoice.scrollIntoView({\n      behavior: this.options.scroll_behavior\n    });\n  }\n\n  positionResultsArea() {\n    let input_offset = this.element.getBoundingClientRect();\n    let input_height = this.element.clientHeight;\n    let input_width = this.element.clientWidth;\n    let results_height = this.queryResultArea.clientHeight;\n    let results_bottom = input_offset.top + input_height + results_height;\n    let window_bottom = window.clientHeight + window.scrollTop;\n\n    // set the dimmensions and position\n    this.queryResultArea.style.width = `${input_width}px`;\n    this.queryResultArea.style.left = `${input_offset.left}px`;\n\n    if (results_bottom > window_bottom) {\n      this.queryResultArea.style.top = `${input_offset.top - results_height}px`;\n    } else {\n      this.queryResultArea.style.top = `${input_offset.top + input_height}px`;\n    }\n  }\n\n  set highlightedChoice(choice) {\n    let highlightedChoice = this.highlightedChoice;\n    if (highlightedChoice) {\n      removeClass(highlighted_choice, 'active');\n      addClass(choice, 'active');\n    }\n  }\n\n  get highlightedChoice() {\n    let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice.active`);\n    return choice || null;\n  }\n\n  highlightNextChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      let next_choice = highlighted_choice.nextSibling;\n      if (next_choice) {\n        removeClass(highlighted_choice, 'active');\n        addClass(next_choice, 'active');\n      }\n    } else {\n      let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice`);\n      if (choice) addClass(choice, 'active');\n    }\n  }\n\n  highlightPreviousChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      let prev_choice = highlighted_choice.previousSibling;\n      if (prev_choice) {\n        removeClass(highlighted_choice, 'active');\n        addClass(prev_choice, 'active');\n      }\n    } else {\n      let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice:last-child`);\n      if (choice) addClass(choice, 'active');\n    }\n  }\n\n  selectHighlightedChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      this.selectChoiceByValue(this.valueFromElement(highlighted_choice));\n      this.hideResults();\n    } else this.revert();\n  }\n\n  // display the selected choice in the input box\n  display() {\n    this.element.value = this.selectedChoice && this.selectedChoice.choice.text || '';\n    typeof Event !== 'undefined' && this.element.dispatchEvent(new Event('input'));\n    this._val = this.element.value;\n  }\n\n  // select the first choice with matching value\n  // Note: values should be unique\n  selectChoiceByValue(val) {\n    let old_val = this.value;\n    this.selectedChoice = (val && this.indexed_choices.find(({choice}) => {\n      return choice.value == val;\n    }) || null);\n    let new_val = this.value;\n    new_val !== old_val && this.element.dispatchEvent(new CustomEvent('update', {\n      detail: new_val\n    }));\n    this.display();\n  }\n\n  revertOtherInstances() {\n    all_objects.forEach(plugin => plugin !== this && plugin.revert());\n  }\n\n  valueFromElement(element) {\n    let index = parseInt(element.getAttribute('data-immybox-value-index'));\n    return !Number.isNaN(index) ? this.values[index] : undefined;\n  }\n\n  // public methods\n\n  showResults() {\n    !this.queryResultAreaVisible && document.body.appendChild(this.queryResultArea);\n    this.queryResultAreaVisible = true;\n    this.scroll();\n    this.positionResultsArea();\n  }\n\n  hideResults() {\n    this.queryResultAreaVisible && document.body.removeChild(this.queryResultArea);\n    this.queryResultAreaVisible = false;\n  }\n\n  // return array of choices\n  getChoices() {\n    return this.choices;\n  }\n\n  setChoices(newChoices) {\n    this.choices = newChoices;\n    if (this.options.defaultSelectedValue != null) {\n      this.choices = [\n        this.choices.find(({value}) => {\n          return value === this.options.defaultSelectedValue;\n        }), ...(\n          this.choices.filter(({value}) => {\n            return value !== this.options.defaultSelectedValue;\n          }))\n        ].filter(choice => choice);\n    }\n    this.indexed_choices = this.choices.map((choice, index) => ({choice, index}));\n    this.selectedChoice && this.selectChoiceByValue(this.selectedChoice.choice.value);\n    this.oldQuery = '';\n    return this.choices;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(value) {\n    this.value = value;\n  }\n\n  // get the value of the currently-selected choice\n  get value() {\n    return this.selectedChoice && this.selectedChoice.choice.value || null;\n  }\n\n  // set the value of the currently-selected choice\n  set value(new_value) {\n    if (this.value !== new_value) {\n      this.selectChoiceByValue(new_value);\n      this.oldQuery = '';\n    }\n    return this.value;\n  }\n\n  // destroy this instance of the plugin\n  destroy() {\n    // remove event listeners\n    for (let [node, events] of event_listeners.get(this))\n      for (let [event_name, handler] of events) {\n        node.removeEventListener(event_name, handler);\n      }\n\n    removeClass(this.element, plugin_name);\n    this.queryResultAreaVisible && document.body.removeChild(this.queryResultArea);\n    all_objects.delete(this.element);\n  }\n\n  static set defaults(new_defaults) {\n    Object.assign(defaults, new_defaults);\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static get pluginMethods() {\n    return ['showResults', 'hideResults', 'getChoices', 'setChoices', 'getValue', 'setValue', 'destroy'];\n  }\n  static pluginForElement(element) {\n    return all_objects.get(element);\n  }\n  static repositionAll() {\n    window.requestAnimationFrame(() => {\n      all_objects.forEach(plugin => {\n        plugin.queryResultAreaVisible && plugin.reposition();\n      });\n    });\n  }\n  static revertAll() {\n    all_objects.forEach(plugin => plugin.revert());\n  }\n  static repositionWhenScrolling(container) {\n    // use one global scoll listener to reposition any result areas that are open\n    container.addEventListener('scroll', ImmyBox.repositionAll);\n  }\n  static get all_objects() {\n    return all_objects;\n  }\n  static get plugin_name() {\n    return plugin_name;\n  }\n}\n\n// use one global click event listener to close/revert ones that are open\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.body.addEventListener('click', ImmyBox.revertAll);\n  // use one global resize listener to reposition any result areas that are open\n  window.addEventListener('resize', ImmyBox.repositionAll);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/immybox.js\n **/","var _checkForMethod = require('./internal/_checkForMethod');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Iterate over an input `list`, calling a provided function `fn` for each\n * element in the list.\n *\n * `fn` receives one argument: *(value)*.\n *\n * Note: `R.forEach` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.forEach` method. For more\n * details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Description\n *\n * Also note that, unlike `Array.prototype.forEach`, Ramda's `forEach` returns\n * the original array. In some libraries this function is named `each`.\n *\n * Dispatches to the `forEach` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> *) -> [a] -> [a]\n * @param {Function} fn The function to invoke. Receives one argument, `value`.\n * @param {Array} list The list to iterate over.\n * @return {Array} The original list.\n * @see R.addIndex\n * @example\n *\n *      var printXPlusFive = x => console.log(x + 5);\n *      R.forEach(printXPlusFive, [1, 2, 3]); //=> [1, 2, 3]\n *      //-> 6\n *      //-> 7\n *      //-> 8\n */\nmodule.exports = _curry2(_checkForMethod('forEach', function forEach(fn, list) {\n  var len = list.length;\n  var idx = 0;\n  while (idx < len) {\n    fn(list[idx]);\n    idx += 1;\n  }\n  return list;\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/forEach.js\n ** module id = 3\n ** module chunks = 0 1\n **/","var _isArray = require('./_isArray');\nvar _slice = require('./_slice');\n\n\n/**\n * Similar to hasMethod, this checks whether a function has a [methodname]\n * function. If it isn't an array it will execute that function otherwise it\n * will default to the ramda implementation.\n *\n * @private\n * @param {Function} fn ramda implemtation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\nmodule.exports = function _checkForMethod(methodname, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return (_isArray(obj) || typeof obj[methodname] !== 'function') ?\n      fn.apply(this, arguments) :\n      obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_checkForMethod.js\n ** module id = 4\n ** module chunks = 0 1\n **/","var _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_curry1.js\n ** module id = 5\n ** module chunks = 0 1\n **/","var _curry1 = require('./_curry1');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2\n             : _curry1(function(_b) { return fn(a, _b); });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2\n             : _isPlaceholder(a) ? _curry1(function(_a) { return fn(_a, b); })\n             : _isPlaceholder(b) ? _curry1(function(_b) { return fn(a, _b); })\n             : fn(a, b);\n    }\n  };\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_curry2.js\n ** module id = 6\n ** module chunks = 0 1\n **/","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nmodule.exports = Array.isArray || function _isArray(val) {\n  return (val != null &&\n          val.length >= 0 &&\n          Object.prototype.toString.call(val) === '[object Array]');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_isArray.js\n ** module id = 7\n ** module chunks = 0 1\n **/","/**\n * An optimized, private array `slice` implementation.\n *\n * @private\n * @param {Arguments|Array} args The array or arguments object to consider.\n * @param {Number} [from=0] The array index to slice from, inclusive.\n * @param {Number} [to=args.length] The array index to slice to, exclusive.\n * @return {Array} A new, sliced array.\n * @example\n *\n *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]\n *\n *      var firstThreeArgs = function(a, b, c, d) {\n *        return _slice(arguments, 0, 3);\n *      };\n *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]\n */\nmodule.exports = function _slice(args, from, to) {\n  switch (arguments.length) {\n    case 1: return _slice(args, 0, args.length);\n    case 2: return _slice(args, from, args.length);\n    default:\n      var list = [];\n      var idx = 0;\n      var len = Math.max(0, Math.min(args.length, to) - from);\n      while (idx < len) {\n        list[idx] = args[from + idx];\n        idx += 1;\n      }\n      return list;\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/ramda/src/internal/_slice.js\n ** module id = 8\n ** module chunks = 0 1\n **/"],"sourceRoot":""}