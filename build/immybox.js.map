{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 196af0bee37f45683e7b","webpack:///./~/ramda/src/internal/_isPlaceholder.js","webpack:///./src/utils.js","webpack:///./src/immybox.js","webpack:///./~/ramda/src/forEach.js","webpack:///./~/ramda/src/internal/_checkForMethod.js","webpack:///./~/ramda/src/internal/_curry1.js","webpack:///./~/ramda/src/internal/_curry2.js","webpack:///./~/ramda/src/internal/_isArray.js","webpack:///./~/ramda/src/internal/_slice.js"],"names":[],"mappings":"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;;;;;AClhBA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC7CD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzBA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;ACnBA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,kBAAkB,EAAE;AACzD;AACA;AACA,yDAAyD,kBAAkB,EAAE;AAC7E,yDAAyD,kBAAkB,EAAE;AAC7E;AACA;AACA;AACA;;;;;;;AC3BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA,qBAAqB;AACrB,uBAAuB;AACvB,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"immybox.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 196af0bee37f45683e7b","module.exports = function _isPlaceholder(a) {\n  return a != null &&\n         typeof a === 'object' &&\n         a['@@functional/placeholder'] === true;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_isPlaceholder.js\n// module id = 0\n// module chunks = 0 1","/*eslint no-console:0*/\n// Polyfills\nNumber.isNaN = Number.isNaN || function(value) {\n  return typeof value === 'number' && isNaN(value);\n};\nif (!Array.prototype.find) {\n  Array.prototype.find = function(predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n    return undefined;\n  };\n}\n\nif (!Array.prototype.includes) {\n  Array.prototype.includes = function(searchElement /*, fromIndex*/ ) {\n    'use strict';\n    var O = Object(this);\n    var len = parseInt(O.length) || 0;\n    if (len === 0) {\n      return false;\n    }\n    var n = parseInt(arguments[1]) || 0;\n    var k;\n    if (n >= 0) {\n      k = n;\n    } else {\n      k = len + n;\n      if (k < 0) {k = 0;}\n    }\n    var currentElement;\n    while (k < len) {\n      currentElement = O[k];\n      if (searchElement === currentElement ||\n         (searchElement !== searchElement && currentElement !== currentElement)) {\n        return true;\n      }\n      k++;\n    }\n    return false;\n  };\n}\n\n// Exported utility methods\nexport function assert(bool, message) {\n  if (!bool) throw new Error(message);\n}\n\nexport function hasClass(element, class_name) {\n  return !!element.className.match(new RegExp(`(\\\\s|^)${class_name}(\\\\s|$)`));\n}\nexport function addClass(element, class_name) {\n  if (!hasClass(element, class_name)) element.className += ` ${class_name}`;\n}\nexport function removeClass(element, class_name) {\n  if (hasClass(element, class_name)) {\n    var reg = new RegExp(`(\\\\s|^)${class_name}(\\\\s|$)`);\n    element.className = element.className.replace(reg, ' ');\n  }\n}\n\nfunction parentNodeMatchingSelector(element, selector) {\n  if (!element.parentNode || !element.parentNode.matches) return null;\n  if (element.parentNode.matches(selector)) return element.parentNode;\n  return parentNodeMatchingSelector(element.parentNode, selector);\n}\n\nexport function nodeOrParentMatchingSelector(element, selector) {\n  if (element.matches && element.matches(selector)) return element;\n  return parentNodeMatchingSelector(element, selector);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import {addClass, removeClass, nodeOrParentMatchingSelector} from './utils';\nimport R from 'ramda';\n\nconst event_listeners = new Map();\nconst all_objects = new Map();\nconst plugin_name = 'immybox';\n\nconst removeActive = node => removeClass(node, 'active');\nconst addActive = node => addClass(node, 'active');\nconst removeActiveList = R.forEach(removeActive);\n\nfunction moveActive(from_el, to_el) {\n  removeActive(from_el);\n  addActive(to_el);\n}\n\nconst _dispatchEvent = typeof Event !== 'undefined' ? function(el, name) {\n  el.dispatchEvent(new Event(name));\n} : function() {};\n\nconst defaults = {\n  choices: [],\n  maxResults: 50,\n  showArrow: true,\n  openOnClick: true,\n  defaultSelectedValue: void 0,\n  scroll_behavior: 'smooth',\n  no_results_text: 'no matches',\n  makeQueryResultsText(x, y) {\n    return `showing ${x} of ${y}`;\n  },\n  filterFn(query) {\n    let lower_query = query.toLowerCase();\n    return choice => choice.text.toLowerCase().indexOf(lower_query) >= 0;\n  },\n  formatChoice(query) {\n    if (query) {\n      let reg = new RegExp(query.replace(/[#-.]|[[-^]|[?|{}]/g, '\\\\$&'), 'gi');\n      return choice => choice.text.replace(reg, '<span class=\"highlight\">$&</span>');\n    } else\n      return choice => choice.text;\n  }\n};\n\nfunction assignEvent(event_name, event_handler, node, listeners) {\n  listeners.has(node) || listeners.set(node, new Map());\n  listeners.get(node).set(event_name, event_handler);\n  node.addEventListener(event_name, event_handler);\n}\n\nfunction getEventListenerMap(plugin) {\n  let map = new Map();\n  event_listeners.set(plugin, map);\n  return map;\n}\n\nexport class ImmyBox {\n  constructor(element, options) {\n    addClass(element, plugin_name);\n    element.setAttribute('autocomplete', 'off');\n\n    let listeners = getEventListenerMap(this);\n\n    this.element = element;\n    this.options = Object.assign({}, ImmyBox.defaults, options);\n    this.choices = this.options.choices;\n    if (typeof this.options.defaultSelectedValue !== 'undefined')\n      this.choices = [\n        this.choices.find(({value}) => {\n          return value === this.options.defaultSelectedValue;\n        }), ...(\n          this.choices.filter(({value}) => {\n            return value !== this.options.defaultSelectedValue;\n          }))\n      ].filter(choice => choice);\n    this.indexed_choices = this.choices.map((choice, index) => ({index, choice}));\n    this.selectedChoice = null;\n\n    if (this.options.showArrow)\n      addClass(this.element, `${plugin_name}_witharrow`);\n\n    this.selectChoiceByValue(this.element.value);\n\n    this.dropdownArea = document.createElement('div');\n    addClass(this.dropdownArea, `${plugin_name}_dropdown`);\n    this.dropdownAreaVisible = false;\n\n    this.queryResultArea = document.createElement('div');\n    addClass(this.queryResultArea, `${plugin_name}_results`);\n\n    this.noResultsArea = document.createElement('p');\n    addClass(this.noResultsArea, `${plugin_name}_noresults`);\n    this.noResultsArea.textContent = this.options.no_results_text || defaults.no_results_text;\n\n    if (this.options.makeQueryResultsText) {\n      if (typeof this.options.makeQueryResultsText === 'function') {\n        this.results_text_maker = this.options.makeQueryResultsText;\n      } else {\n        // user probably set options.makeQueryResultsText to true -- use the default query result text maker\n        this.results_text_maker = defaults.makeQueryResultsText;\n      }\n      this.queryResultsTextArea = document.createElement('p');\n      addClass(this.queryResultsTextArea, `${plugin_name}_results_text`);\n    }\n\n    this._val = this.element.value;\n    this.oldQuery = this.element.value;\n\n    if (this.options.openOnClick)\n      assignEvent('click', this.openResults.bind(this), this.element, listeners);\n\n    assignEvent('click', event => {\n      let node = nodeOrParentMatchingSelector(event.target, `li.${plugin_name}_choice`);\n      if (node) {\n        let value = this.valueFromElement(node);\n        this.selectChoiceByValue(value);\n        this.hideResults();\n        this._val = this.element.value;\n        this.element.focus();\n      }\n    }, this.queryResultArea, listeners);\n\n    assignEvent('mouseenter', event => {\n      let node = nodeOrParentMatchingSelector(event.target, `li.${plugin_name}_choice`);\n      if (node) {\n        removeActiveList(this.queryResultArea.querySelectorAll(`li.${plugin_name}_choice.active`));\n        addActive(node);\n      }\n    }, this.queryResultArea, listeners);\n\n    assignEvent('keyup', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('change', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('search', this.doQuery.bind(this), this.element, listeners);\n    assignEvent('keydown', this.doSelection.bind(this), this.element, listeners);\n\n    all_objects.set(this.element, this);\n  }\n\n  get values() {\n    return this.choices.map(choice => choice.value);\n  }\n\n  // on 'keyup', 'change', 'search'\n  // perform a query on the choices\n  doQuery() {\n    let query = this.element.value;\n    if (this._val !== query) {\n      this._val = query;\n      this.oldQuery = query;\n      if (query) {\n        this.insertFilteredChoiceElements(query);\n      } else {\n        this.hideResults();\n        this.selectChoiceByValue(null);\n      }\n    }\n  }\n\n  // on 'keydown'\n  // select the highlighted choice\n  doSelection(event) {\n    if (event.which === 27) { // escape key\n      this.display();\n      this.hideResults();\n    }\n    if (this.dropdownAreaVisible) {\n      switch (event.which) {\n      case 9: // tab\n        this.selectHighlightedChoice();\n        break;\n      case 13: // enter\n        event.preventDefault();\n        this.selectHighlightedChoice();\n        break;\n      case 38: // up\n        event.preventDefault();\n        this.highlightPreviousChoice();\n        this.scroll();\n        break;\n      case 40: // down\n        event.preventDefault();\n        this.highlightNextChoice();\n        this.scroll();\n        break;\n      }\n    } else {\n      switch (event.which) {\n      case 40: // down\n        event.preventDefault();\n        if (this.selectedChoice)\n          this.insertFilteredChoiceElements(this.oldQuery);\n        else\n          this.insertFilteredChoiceElements('');\n        break;\n      case 9: // tab\n        this.revert();\n        break;\n      }\n    }\n  }\n\n  // on 'click'\n  // show the results box\n  openResults(event) {\n    event.cancelBubble = true;\n    event.stopPropogation && event.stopPropogation();\n    this.revertOtherInstances();\n    if (this.selectedChoice) {\n      this.insertFilteredChoiceElements(this.oldQuery);\n    } else {\n      this.insertFilteredChoiceElements('');\n    }\n  }\n\n  // revert or set to null after losing focus\n  revert() {\n    if (this.dropdownAreaVisible) {\n      this.display();\n      this.hideResults();\n    } else if (this.element.value === '') this.selectChoiceByValue(null);\n  }\n\n  // if visible, reposition the results area on window resize\n  reposition() {\n    this.dropdownAreaVisible && this.positionDropdownArea();\n  }\n\n  cleanNode(node) {\n    while (node.lastChild) {\n      node.removeChild(node.lastChild);\n    }\n  }\n\n  insertFilteredChoiceElements(query) {\n    let filteredChoices;\n    if (query === '')\n      filteredChoices = this.indexed_choices;\n    else {\n      let filter = this.options.filterFn(query);\n      filteredChoices = this.indexed_choices.filter(({choice}, index) => filter(choice, index));\n    }\n    let truncatedChoices = filteredChoices.slice(0, this.options.maxResults);\n    if (truncatedChoices.length) {\n      if (this.defaultSelectedChoice) {\n        if (filteredChoices.indexOf(this.defaultSelectedChoice) >= 0) {\n          if (truncatedChoices.indexOf(this.defaultSelectedChoice) === -1) {\n            truncatedChoices.unshift(this.defaultSelectedChoice);\n            truncatedChoices.pop();\n          } else {\n            truncatedChoices = truncatedChoices.filter(c => c.choice.value !== this.defaultSelectedChoice.value);\n            truncatedChoices.unshift(this.defaultSelectedChoice);\n          }\n        }\n      }\n      let formatter = this.options.formatChoice(query);\n      let selected_one = false;\n      let list = document.createElement('ul');\n      let results = truncatedChoices.map(({choice, index}) => {\n        let li = document.createElement('li');\n        li.setAttribute('class', `${plugin_name}_choice`);\n        li.setAttribute('data-immybox-value-index', index);\n        li.innerHTML = formatter(choice);\n        if (this.selectedChoice && (index === this.selectedChoice.index)) {\n          selected_one = true;\n          addActive(li);\n        }\n        list.appendChild(li);\n        return li;\n      });\n      !selected_one && addActive(results[0]);\n\n      this.cleanNode(this.dropdownArea);\n      this.cleanNode(this.queryResultArea);\n      this.queryResultArea.appendChild(list);\n      this.dropdownArea.appendChild(this.queryResultArea);\n      if (this.queryResultsTextArea) {\n        this.queryResultsTextArea.textContent = this.results_text_maker(\n          truncatedChoices.length,\n          filteredChoices.length\n        );\n        this.dropdownArea.appendChild(this.queryResultsTextArea);\n      }\n    } else {\n      this.cleanNode(this.dropdownArea);\n      this.dropdownArea.appendChild(this.noResultsArea);\n    }\n\n    this._showResults();\n  }\n\n  scroll() {\n    this.highlightedChoice && this.highlightedChoice.scrollIntoView({\n      behavior: this.options.scroll_behavior\n    });\n  }\n\n  positionDropdownArea() {\n    let input_offset = this.element.getBoundingClientRect();\n    let input_height = this.element.clientHeight;\n    let input_width = this.element.clientWidth;\n    let results_height = this.queryResultArea.clientHeight;\n    let results_bottom = input_offset.top + input_height + results_height;\n    let window_bottom = window.clientHeight + window.scrollTop;\n\n    // set the dimmensions and position\n    this.dropdownArea.style.width = `${input_width}px`;\n    this.dropdownArea.style.left = `${input_offset.left}px`;\n\n    if (results_bottom > window_bottom) {\n      this.dropdownArea.style.top = `${input_offset.top - results_height}px`;\n    } else {\n      this.dropdownArea.style.top = `${input_offset.top + input_height}px`;\n    }\n  }\n\n  set highlightedChoice(choice) {\n    let highlightedChoice = this.highlightedChoice;\n    if (highlightedChoice) {\n      moveActive(highlightedChoice, choice);\n    }\n  }\n\n  get highlightedChoice() {\n    let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice.active`);\n    return choice || null;\n  }\n\n  highlightNextChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      let next_choice = highlighted_choice.nextSibling;\n      if (next_choice) {\n        moveActive(highlighted_choice, next_choice);\n      }\n    } else {\n      let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice`);\n      if (choice) addActive(choice);\n    }\n  }\n\n  highlightPreviousChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      let prev_choice = highlighted_choice.previousSibling;\n      if (prev_choice) {\n        moveActive(highlighted_choice, prev_choice);\n      }\n    } else {\n      let choice = this.queryResultArea.querySelector(`li.${plugin_name}_choice:last-child`);\n      if (choice) addActive(choice);\n    }\n  }\n\n  selectHighlightedChoice() {\n    let highlighted_choice = this.highlightedChoice;\n    if (highlighted_choice) {\n      this.selectChoiceByValue(this.valueFromElement(highlighted_choice));\n      this.hideResults();\n    } else this.revert();\n  }\n\n  // display the selected choice in the input box\n  display() {\n    this.element.value = this.selectedChoice && this.selectedChoice.choice.text || '';\n    _dispatchEvent(this.element, 'input');\n    this._val = this.element.value;\n  }\n\n  // select the first choice with matching value (matching is done via the threequals comparison)\n  // Note: values should be unique\n  selectChoiceByValue(val) {\n    let old_val = this.value;\n    if (typeof val === 'undefined') {\n      this.selectedChoice = void 0;\n    } else {\n      this.selectedChoice = this.indexed_choices.find(({choice}) => choice.value === val);\n    }\n    let new_val = this.value;\n    new_val !== old_val && this.element.dispatchEvent(new CustomEvent('update', {\n      detail: new_val\n    }));\n    this.display();\n  }\n\n  revertOtherInstances() {\n    all_objects.forEach(plugin => plugin !== this && plugin.revert());\n  }\n\n  valueFromElement(element) {\n    let index = parseInt(element.getAttribute('data-immybox-value-index'));\n    return !Number.isNaN(index) ? this.values[index] : void 0;\n  }\n\n  _showResults() {\n    !this.dropdownAreaVisible && document.body.appendChild(this.dropdownArea);\n    this.dropdownAreaVisible = true;\n    this.scroll();\n    this.positionDropdownArea();\n  }\n\n  // public methods\n\n  showResults() {\n    this.revertOtherInstances();\n    if (this.selectedChoice) {\n      this.insertFilteredChoiceElements(this.oldQuery);\n    } else {\n      this.insertFilteredChoiceElements('');\n    }\n  }\n\n  open() {\n    return this.showResults();\n  }\n\n  hideResults() {\n    this.dropdownAreaVisible && document.body.removeChild(this.dropdownArea);\n    this.dropdownAreaVisible = false;\n  }\n\n  close() {\n    return this.hideResults();\n  }\n\n  // return array of choices\n  getChoices() {\n    return this.choices;\n  }\n\n  setChoices(newChoices) {\n    this.choices = newChoices;\n    const default_selected_value = this.options.defaultSelectedValue;\n    if (typeof default_selected_value !== 'undefined') {\n      this.choices = [\n        this.choices.find(({value}) => value === default_selected_value),\n        ...this.choices.filter(({value}) => value !== default_selected_value)\n      ].filter(choice => choice);\n    }\n    this.indexed_choices = this.choices.map((choice, index) => ({choice, index}));\n    this.selectedChoice && this.selectChoiceByValue(this.selectedChoice.choice.value);\n    this.oldQuery = '';\n    return this.choices;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(value) {\n    this.value = value;\n  }\n\n  unsetValue() {\n    if (typeof this.value !== 'undefined') {\n      this.value = void 0;\n    }\n  }\n\n  // get the value of the currently-selected choice\n  get value() {\n    return this.selectedChoice && this.selectedChoice.choice.value;\n  }\n\n  // set the value of the currently-selected choice\n  set value(new_value) {\n    if (this.value !== new_value) {\n      this.selectChoiceByValue(new_value);\n      this.oldQuery = '';\n    }\n    return this.value;\n  }\n\n  // destroy this instance of the plugin\n  destroy() {\n    // remove event listeners\n    for (let [node, events] of event_listeners.get(this))\n      for (let [event_name, handler] of events) {\n        node.removeEventListener(event_name, handler);\n      }\n\n    removeClass(this.element, plugin_name);\n    this.hideResults();\n    all_objects.delete(this.element);\n  }\n\n  static set defaults(new_defaults) {\n    Object.assign(defaults, new_defaults);\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static get pluginMethods() {\n    return [\n      'showResults',\n      'open',\n      'hideResults',\n      'close',\n      'getChoices',\n      'setChoices',\n      'getValue',\n      'setValue',\n      'destroy'\n    ];\n  }\n  static pluginForElement(element) {\n    return all_objects.get(element);\n  }\n  static repositionAll() {\n    window.requestAnimationFrame(() => {\n      all_objects.forEach(plugin => {\n        plugin.dropdownAreaVisible && plugin.reposition();\n      });\n    });\n  }\n  static revertAll() {\n    all_objects.forEach(plugin => plugin.revert());\n  }\n  static repositionWhenScrolling(container) {\n    // use one global scoll listener to reposition any result areas that are open\n    container.addEventListener('scroll', ImmyBox.repositionAll);\n  }\n  static get all_objects() {\n    return all_objects;\n  }\n  static get plugin_name() {\n    return plugin_name;\n  }\n}\n\n// use one global click event listener to close/revert ones that are open\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.body.addEventListener('click', ImmyBox.revertAll);\n  // use one global resize listener to reposition any result areas that are open\n  window.addEventListener('resize', ImmyBox.repositionAll);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/immybox.js","var _checkForMethod = require('./internal/_checkForMethod');\nvar _curry2 = require('./internal/_curry2');\n\n\n/**\n * Iterate over an input `list`, calling a provided function `fn` for each\n * element in the list.\n *\n * `fn` receives one argument: *(value)*.\n *\n * Note: `R.forEach` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.forEach` method. For more\n * details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Description\n *\n * Also note that, unlike `Array.prototype.forEach`, Ramda's `forEach` returns\n * the original array. In some libraries this function is named `each`.\n *\n * Dispatches to the `forEach` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> *) -> [a] -> [a]\n * @param {Function} fn The function to invoke. Receives one argument, `value`.\n * @param {Array} list The list to iterate over.\n * @return {Array} The original list.\n * @see R.addIndex\n * @example\n *\n *      var printXPlusFive = x => console.log(x + 5);\n *      R.forEach(printXPlusFive, [1, 2, 3]); //=> [1, 2, 3]\n *      //-> 6\n *      //-> 7\n *      //-> 8\n */\nmodule.exports = _curry2(_checkForMethod('forEach', function forEach(fn, list) {\n  var len = list.length;\n  var idx = 0;\n  while (idx < len) {\n    fn(list[idx]);\n    idx += 1;\n  }\n  return list;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/forEach.js\n// module id = 3\n// module chunks = 0 1","var _isArray = require('./_isArray');\nvar _slice = require('./_slice');\n\n\n/**\n * Similar to hasMethod, this checks whether a function has a [methodname]\n * function. If it isn't an array it will execute that function otherwise it\n * will default to the ramda implementation.\n *\n * @private\n * @param {Function} fn ramda implemtation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\nmodule.exports = function _checkForMethod(methodname, fn) {\n  return function() {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return (_isArray(obj) || typeof obj[methodname] !== 'function') ?\n      fn.apply(this, arguments) :\n      obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_checkForMethod.js\n// module id = 4\n// module chunks = 0 1","var _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_curry1.js\n// module id = 5\n// module chunks = 0 1","var _curry1 = require('./_curry1');\nvar _isPlaceholder = require('./_isPlaceholder');\n\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nmodule.exports = function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2\n             : _curry1(function(_b) { return fn(a, _b); });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2\n             : _isPlaceholder(a) ? _curry1(function(_a) { return fn(_a, b); })\n             : _isPlaceholder(b) ? _curry1(function(_b) { return fn(a, _b); })\n             : fn(a, b);\n    }\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_curry2.js\n// module id = 6\n// module chunks = 0 1","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nmodule.exports = Array.isArray || function _isArray(val) {\n  return (val != null &&\n          val.length >= 0 &&\n          Object.prototype.toString.call(val) === '[object Array]');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_isArray.js\n// module id = 7\n// module chunks = 0 1","/**\n * An optimized, private array `slice` implementation.\n *\n * @private\n * @param {Arguments|Array} args The array or arguments object to consider.\n * @param {Number} [from=0] The array index to slice from, inclusive.\n * @param {Number} [to=args.length] The array index to slice to, exclusive.\n * @return {Array} A new, sliced array.\n * @example\n *\n *      _slice([1, 2, 3, 4, 5], 1, 3); //=> [2, 3]\n *\n *      var firstThreeArgs = function(a, b, c, d) {\n *        return _slice(arguments, 0, 3);\n *      };\n *      firstThreeArgs(1, 2, 3, 4); //=> [1, 2, 3]\n */\nmodule.exports = function _slice(args, from, to) {\n  switch (arguments.length) {\n    case 1: return _slice(args, 0, args.length);\n    case 2: return _slice(args, from, args.length);\n    default:\n      var list = [];\n      var idx = 0;\n      var len = Math.max(0, Math.min(args.length, to) - from);\n      while (idx < len) {\n        list[idx] = args[from + idx];\n        idx += 1;\n      }\n      return list;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ramda/src/internal/_slice.js\n// module id = 8\n// module chunks = 0 1"],"sourceRoot":""}